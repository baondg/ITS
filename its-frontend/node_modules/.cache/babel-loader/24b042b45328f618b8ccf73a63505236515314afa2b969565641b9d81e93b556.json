{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\peter\\\\Desktop\\\\HK251\\\\SOFTWARE ARCHITECTURE\\\\ITS\\\\its-frontend\\\\src\\\\context\\\\ContentContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext } from 'react';\nimport contentService from '../services/contentService';\n\n/**\r\n * Content Context following Context API pattern\r\n * Manages global content state\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContentContext = /*#__PURE__*/createContext();\nexport const useContent = () => {\n  _s();\n  const context = useContext(ContentContext);\n  if (!context) {\n    throw new Error('useContent must be used within a ContentProvider');\n  }\n  return context;\n};\n_s(useContent, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const ContentProvider = ({\n  children\n}) => {\n  _s2();\n  const [contents, setContents] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const fetchAllContent = async () => {\n    try {\n      setIsLoading(true);\n      const response = await contentService.getAllContent();\n      setContents(response.data);\n    } catch (error) {\n      console.error('Failed to fetch content:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const fetchContentByTopic = async topicId => {\n    try {\n      setIsLoading(true);\n      const response = await contentService.getContentByTopic(topicId);\n      setContents(response.data);\n    } catch (error) {\n      console.error('Failed to fetch content by topic:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const searchContent = async query => {\n    try {\n      setIsLoading(true);\n      const response = await contentService.searchContent(query);\n      setContents(response.data);\n    } catch (error) {\n      console.error('Failed to search content:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const createContent = async contentData => {\n    try {\n      const response = await contentService.createContent(contentData);\n      setContents(prev => [...prev, response.data]);\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      var _error$response, _error$response$data;\n      return {\n        success: false,\n        message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to create content'\n      };\n    }\n  };\n  const updateContent = async (id, contentData) => {\n    try {\n      const response = await contentService.updateContent(id, contentData);\n      setContents(prev => prev.map(content => content.id === id ? response.data : content));\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      return {\n        success: false,\n        message: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to update content'\n      };\n    }\n  };\n  const deleteContent = async id => {\n    try {\n      await contentService.deleteContent(id);\n      setContents(prev => prev.filter(content => content.id !== id));\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      return {\n        success: false,\n        message: ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Failed to delete content'\n      };\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const response = await contentService.getCategories();\n      setCategories(response.data);\n    } catch (error) {\n      console.error('Failed to fetch categories:', error);\n    }\n  };\n  const value = {\n    contents,\n    categories,\n    isLoading,\n    fetchAllContent,\n    fetchContentByTopic,\n    searchContent,\n    createContent,\n    updateContent,\n    deleteContent,\n    fetchCategories\n  };\n  return /*#__PURE__*/_jsxDEV(ContentContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n_s2(ContentProvider, \"Js3+NIlvneRt43zQoiQFPjdTcLc=\");\n_c = ContentProvider;\nvar _c;\n$RefreshReg$(_c, \"ContentProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","contentService","jsxDEV","_jsxDEV","ContentContext","useContent","_s","context","Error","ContentProvider","children","_s2","contents","setContents","categories","setCategories","isLoading","setIsLoading","fetchAllContent","response","getAllContent","data","error","console","fetchContentByTopic","topicId","getContentByTopic","searchContent","query","createContent","contentData","prev","success","_error$response","_error$response$data","message","updateContent","id","map","content","_error$response2","_error$response2$data","deleteContent","filter","_error$response3","_error$response3$data","fetchCategories","getCategories","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/peter/Desktop/HK251/SOFTWARE ARCHITECTURE/ITS/its-frontend/src/context/ContentContext.js"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\r\nimport contentService from '../services/contentService';\r\n\r\n/**\r\n * Content Context following Context API pattern\r\n * Manages global content state\r\n */\r\nconst ContentContext = createContext();\r\n\r\nexport const useContent = () => {\r\n  const context = useContext(ContentContext);\r\n  if (!context) {\r\n    throw new Error('useContent must be used within a ContentProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const ContentProvider = ({ children }) => {\r\n  const [contents, setContents] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const fetchAllContent = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await contentService.getAllContent();\r\n      setContents(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch content:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchContentByTopic = async (topicId) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await contentService.getContentByTopic(topicId);\r\n      setContents(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch content by topic:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const searchContent = async (query) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await contentService.searchContent(query);\r\n      setContents(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to search content:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const createContent = async (contentData) => {\r\n    try {\r\n      const response = await contentService.createContent(contentData);\r\n      setContents(prev => [...prev, response.data]);\r\n      return { success: true, data: response.data };\r\n    } catch (error) {\r\n      return { \r\n        success: false, \r\n        message: error.response?.data?.message || 'Failed to create content' \r\n      };\r\n    }\r\n  };\r\n\r\n  const updateContent = async (id, contentData) => {\r\n    try {\r\n      const response = await contentService.updateContent(id, contentData);\r\n      setContents(prev => prev.map(content => \r\n        content.id === id ? response.data : content\r\n      ));\r\n      return { success: true, data: response.data };\r\n    } catch (error) {\r\n      return { \r\n        success: false, \r\n        message: error.response?.data?.message || 'Failed to update content' \r\n      };\r\n    }\r\n  };\r\n\r\n  const deleteContent = async (id) => {\r\n    try {\r\n      await contentService.deleteContent(id);\r\n      setContents(prev => prev.filter(content => content.id !== id));\r\n      return { success: true };\r\n    } catch (error) {\r\n      return { \r\n        success: false, \r\n        message: error.response?.data?.message || 'Failed to delete content' \r\n      };\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await contentService.getCategories();\r\n      setCategories(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch categories:', error);\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    contents,\r\n    categories,\r\n    isLoading,\r\n    fetchAllContent,\r\n    fetchContentByTopic,\r\n    searchContent,\r\n    createContent,\r\n    updateContent,\r\n    deleteContent,\r\n    fetchCategories\r\n  };\r\n\r\n  return (\r\n    <ContentContext.Provider value={value}>\r\n      {children}\r\n    </ContentContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}